---
title: "Week2 iTEACH创新技术周报"
date: "2025-03-10"
description: "探讨MasRouter的任务执行流程和LATM框架的工具生成与使用机制"
tags: ["AI", "MasRouter", "LATM", "技术周报"]
---

# Week2 能力助手创新技术周报

## 一、 MasRouter 的任务执行流程及技术实现  

[论文链接](http://arxiv.org/abs/2502.11133)

论文提出动态路由框架，为不同任务自动选择协作模式、分配角色和LLM模型。

MasRouter 在 **每次任务执行** 时都会经历以下三个步骤：

1. **协作模式确定（Collaboration Mode Determination）**  
   - 选择智能体的交互方式，比如：
     - **链式（Chain）**：任务按顺序流转，如"解析→笔记生成→交互"。
     - **树状（Tree）**：任务分支执行，如"解析同时拆分多个部分"。
     - **图状（Graph）**：任务可循环执行，比如"笔记生成后，交互智能体可修改并重新解析"。  
   - **技术实现**：使用**变分潜变量模型（Variational Latent Model）**来学习查询任务的复杂度，从而自动选取最佳协作模式。  

2. **角色分配（Role Allocation）**  
   - 确定哪些智能体需要参与任务，比如：
     - 复杂问题→增加"分析智能体"。
     - 简单任务→只使用"解析+笔记生成"智能体。  
   - **技术实现**：使用**级联概率模型（Probabilistic Cascade）**，逐步为智能体分配角色，并学习哪些角色组合效果最佳。  

3. **LLM 路由（LLM Routing）**  
   - 选择最适合的 LLM  
   - **技术实现**：使用**多项分布路由（Multinomial Distribution Routing）**，基于任务难度动态选择 LLM。  

### 优化方向

**1. 采用 MasRouter 动态调整 LLM 调用**

不同的笔记需求**不应统一调用 GPT-4o**，可以用 MasRouter **根据需求分配合适的 LLM**：
- 📖 **简单笔记（概括、提取）** → 轻量模型
- 🔍 **深入分析（详细解释、背景知识扩展）** → 强模型
- 🏆 **习题生成 & 推导** → 代码类 LLM

**2. 待个性化功能加入后，MasRouter整体调动multi-agents** 
（个性化功能之前好像忘记加到优化md里面了）

**3. 动态选择适合的笔记框架**
   - 🌟 **概念导向型（适合文科生）：** 知识点 - 关键词 - 关联背景 - 思维导图
   - 🔢 **推理导向型（适合理/工科生）：** 定理 - 公式推导/代码解析 - 应用案例 - 习题
   - 🏆 **竞赛导向型（适合进阶）：** 知识点 - 反例分析 - 变式训练 - 高难度思考题  

📌 **实现**
- 训练 **用户画像模型**，让 MasRouter **根据用户的学习风格、历史行为** 选择最优笔记结构。
（下周我着重把用户画像的创新技术调研一下）
- 让 AI **分析笔记内容的逻辑关系**，自动生成**最适合的框架**。  

---

## 二、 Large Language Models as Tool Makers (LATM)

[论文链接](http://arxiv.org/abs/2305.17126)

提出LATM框架，让大语言模型（LLM）自动生成可复用的工具（Python函数），通过分工降低推理成本。

LATM 框架包括两个阶段：  

1. **工具生成 (Tool Making)**：  
     - **工具提案 (Tool Proposing)**：LLM 根据示例代码生成 Python 函数。  
     - **工具验证 (Tool Verification)**：对生成的工具进行单元测试，确保其能正确执行任务。  
     - **工具封装 (Tool Wrapping)**：将函数和示例打包，以便后续调用。  

2. **工具使用 (Tool Using)**：  
   - 让较轻量的 LLM使用已生成的工具执行任务，而不必重新计算，从而降低成本。  

**让 LLM 既能创造工具，也能利用工具，减少重复计算。**
**LATM 在多个复杂推理任务上取得了与 GPT-4 相当的表现**，但成本更低。  

### 优化方向

**(1) 生成、更新并存储通用笔记模板**

callback一下前面提到的笔记模板
> **假设当前 AI 每次都从零开始生成笔记格式**：
> - AI 可能会在不同情况下生成格式不同的笔记（有时带摘要，有时带思维导图）。
> - 但其实笔记格式可以有**固定模板**，只填入具体的解析内容。

- 让笔记生成智能体**存储固定的笔记结构模板**，例如：
  - 标题
  - 章节摘要
  - 关键词提取
  - 重点知识点解析
  - 例题解析
  
- **技术实现：**
  - **第一步**：解析 PDF 后，系统**检查是否有相似笔记模板**，如果有，直接填充内容，而不是重新设计格式。
  - **第二步**：新生成的笔记可以**更新已有模板**，下次遇到类似内容时复用。

**🌟 优势：**  
1. **笔记格式统一，减少计算量。**  
2. **响应更快**，只需填充内容，而非重新设计笔记结构。  
3. **用户体验更好**，每次笔记格式不会乱。  